#!/bin/bash
# runs all experiments for Chile University data and saves result models into respective folders

GIT_ROOT="$(git rev-parse --show-toplevel)"

PATH_TO_EXECUTABLE_DELTR=$GIT_ROOT/octave-src/src
PATH_TO_EXECUTABLE_LISTNET=$GIT_ROOT/Cao_src/listnet-master/src
PATH_TO_CHILE_NOSEMI_DATASETS=$GIT_ROOT/octave-src/sample/ChileUni/NoSemi

echo $GIT_ROOT

##########################################################################################
# all gender experiments, no semi-private highschools
##########################################################################################

EXPERIMENT=gender

echo ""
echo "#################################running gender nosemi experiment#############################################"

FOLD=fold_1

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_2

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_3

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_4

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_5

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_gender_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000


##########################################################################################
# all highschool type experiments, no semi-private highschools
##########################################################################################

EXPERIMENT=highschool

FOLD=fold_1

echo ""
echo "#################################running highschool nosemi experiment#############################################"

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold1_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_2

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold2_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_3

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold3_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_4

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold4_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000

FOLD=fold_5

echo "$FOLD colorblind running..."
cd $PATH_TO_EXECUTABLE_LISTNET
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/COLORBLIND/model.m

echo "$FOLD gamma=0 running..."
cd $PATH_TO_EXECUTABLE_DELTR 
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=0/model.m 0

echo "$FOLD gamma=small running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=SMALL/model.m 100000

echo "$FOLD gamma=large running..."
./train.m $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/ $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/chileDataL2R_highschool_nosemi_fold5_train.txt $PATH_TO_CHILE_NOSEMI_DATASETS/$EXPERIMENT/$FOLD/GAMMA\=LARGE/model.m 5000000


